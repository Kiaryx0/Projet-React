{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiary\\\\Documents\\\\GitHub\\\\Projet-React\\\\ece_watermelon\\\\src\\\\Components\\\\Utils\\\\TransferModal.js\";\nimport React from \"react\";\nimport { MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter, MDBBtn } from \"mdbreact\";\nimport { makeTransfer } from \"../../Database/DatabaseWallet.js\";\nimport { getSessionUser } from \"../../Database/DatabaseSession.js\";\n\nclass TransferModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggled = false;\n    this.close = null;\n    this.selectedUser = 0;\n    this.transfer = 0;\n    this.proceed = this.proceed.bind(this);\n    this.showInfos = this.showInfos.bind(this);\n  }\n\n  proceed() {\n    let money = this.props.deposit * 100;\n    let myID = getSessionUser().id;\n    makeTransfer(money, myID, this.props.selectedUser);\n    this.props.close();\n  }\n\n  showInfos() {\n    if (this.props.selectedUser !== 0) {\n      let users = JSON.parse(localStorage.getItem(\"users\"));\n      let userName = users.filter(user => {\n        return user.id === this.props.selectedUser;\n      });\n      let userFirstName = userName[0];\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, \"Are you sure you want to transfer \", this.props.transfer, \"\\u20AC to \", userFirstName.first_name, \" \", userLastName.last_name, \"?\"));\n    }\n  }\n\n  render() {\n    return React.createElement(MDBModal, {\n      centered: true,\n      isOpen: this.props.toggled,\n      toggle: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Make a Transfer\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, this.showInfos()), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Close\"), React.createElement(MDBBtn, {\n      color: \"primary\",\n      onClick: () => this.proceed(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Proceed\")));\n  }\n\n}\n\nexport default TransferModal;","map":{"version":3,"sources":["C:\\Users\\Kiary\\Documents\\GitHub\\Projet-React\\ece_watermelon\\src\\Components\\Utils\\TransferModal.js"],"names":["React","MDBModal","MDBModalHeader","MDBModalBody","MDBModalFooter","MDBBtn","makeTransfer","getSessionUser","TransferModal","Component","constructor","props","toggled","close","selectedUser","transfer","proceed","bind","showInfos","money","deposit","myID","id","users","JSON","parse","localStorage","getItem","userName","filter","user","userFirstName","first_name","userLastName","last_name","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,cAAnB,EAAmCC,YAAnC,EAAiDC,cAAjD,EAAiEC,MAAjE,QAA+E,UAA/E;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,cAAT,QAA+B,mCAA/B;;AAGA,MAAMC,aAAN,SAA4BR,KAAK,CAACS,SAAlC,CAA2C;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,YAAL,GAAoB,CAApB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,OAAL,GAAa,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAb;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACH;;AAEDD,EAAAA,OAAO,GAAG;AACN,QAAIG,KAAK,GAAG,KAAKR,KAAL,CAAWS,OAAX,GAAmB,GAA/B;AACA,QAAIC,IAAI,GAAGd,cAAc,GAAGe,EAA5B;AACAhB,IAAAA,YAAY,CAACa,KAAD,EAAQE,IAAR,EAAc,KAAKV,KAAL,CAAWG,YAAzB,CAAZ;AACA,SAAKH,KAAL,CAAWE,KAAX;AACH;;AAEDK,EAAAA,SAAS,GAAG;AACR,QAAG,KAAKP,KAAL,CAAWG,YAAX,KAA4B,CAA/B,EAAkC;AAC9B,UAAIS,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;AACA,UAAIC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAcC,IAAD,IAAU;AAClC,eAAOA,IAAI,CAACR,EAAL,KAAY,KAAKX,KAAL,CAAWG,YAA9B;AACH,OAFc,CAAf;AAGA,UAAIiB,aAAa,GAAGH,QAAQ,CAAC,CAAD,CAA5B;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAuC,KAAKjB,KAAL,CAAWI,QAAlD,gBAAiEgB,aAAa,CAACC,UAA/E,OAA4FC,YAAY,CAACC,SAAzG,MADJ,CADJ;AAKH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,MAAlB;AAAmB,MAAA,MAAM,EAAE,KAAKxB,KAAL,CAAWC,OAAtC;AAA+C,MAAA,MAAM,EAAE,MAAM,KAAKD,KAAL,CAAWE,KAAX,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,MAAM,EAAE,MAAM,KAAKF,KAAL,CAAWE,KAAX,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAEI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKK,SAAL,EADL,CAFJ,EAKI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,WAAd;AAA0B,MAAA,OAAO,EAAE,MAAM,KAAKP,KAAL,CAAWE,KAAX,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAE,MAAM,KAAKG,OAAL,EAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CALJ,CADJ;AAYH;;AA/CsC;;AAkD3C,eAAeR,aAAf","sourcesContent":["import React from \"react\";\r\nimport { MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter, MDBBtn } from \"mdbreact\";\r\nimport { makeTransfer } from \"../../Database/DatabaseWallet.js\";\r\nimport { getSessionUser } from \"../../Database/DatabaseSession.js\";\r\n\r\n\r\nclass TransferModal extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.toggled = false;\r\n        this.close = null;\r\n        this.selectedUser = 0;\r\n        this.transfer = 0;\r\n        this.proceed=this.proceed.bind(this);\r\n        this.showInfos = this.showInfos.bind(this);\r\n    }\r\n\r\n    proceed() {\r\n        let money = this.props.deposit*100;\r\n        let myID = getSessionUser().id;\r\n        makeTransfer(money, myID, this.props.selectedUser);\r\n        this.props.close();\r\n    }\r\n\r\n    showInfos() {\r\n        if(this.props.selectedUser !== 0) {\r\n            let users = JSON.parse(localStorage.getItem(\"users\"));\r\n            let userName = users.filter((user) => {\r\n                return user.id === this.props.selectedUser\r\n            });\r\n            let userFirstName = userName[0];\r\n            return(\r\n                <div>\r\n                    <h5>Are you sure you want to transfer {this.props.transfer}â‚¬ to {userFirstName.first_name} {userLastName.last_name}?</h5>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <MDBModal centered isOpen={this.props.toggled} toggle={() => this.props.close()}>\r\n                <MDBModalHeader toggle={() => this.props.close()}>Make a Transfer</MDBModalHeader>\r\n                <MDBModalBody>\r\n                    {this.showInfos()}\r\n                </MDBModalBody>\r\n                <MDBModalFooter>\r\n                    <MDBBtn color=\"secondary\" onClick={() => this.props.close()}>Close</MDBBtn>\r\n                    <MDBBtn color=\"primary\" onClick={() => this.proceed()}>Proceed</MDBBtn>\r\n                </MDBModalFooter>\r\n            </MDBModal>\r\n        );\r\n    }\r\n\r\n}\r\nexport default TransferModal;"]},"metadata":{},"sourceType":"module"}