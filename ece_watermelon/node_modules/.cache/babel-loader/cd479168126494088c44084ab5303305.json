{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiary\\\\Documents\\\\GitHub\\\\Projet-React\\\\ece_watermelon\\\\src\\\\Components\\\\Utils\\\\AccountEditor.js\";\nimport React, { Component } from \"react\";\nimport loginUser, { getSessionUser } from \"../../Database/DatabaseSession\";\nimport { MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBCardHeader, MDBCardFooter, MDBCardTitle, MDBInput } from \"mdbreact\";\nexport default class AccountEditor extends Component {\n  constructor(props) {\n    super(props);\n    let user = getSessionUser();\n    this.state = {\n      first_name: user.first_name,\n      last_name: user.last_name,\n      email: user.email,\n      password: user.password,\n      show_password: false\n    };\n    this.onFirstNameUpdate = this.onFirstNameUpdate.bind(this);\n    this.onLastNameUpdate = this.onLastNameUpdate.bind(this);\n    this.onEmailUpdate = this.onEmailUpdate.bind(this);\n    this.onPasswordUpdate = this.onPasswordUpdate.bind(this);\n    this.onCheck = this.onCheck.bind(this);\n    this.showPassword = this.showPassword.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit(event) {\n    event.preventDefault(); // Modify user in users table\n\n    let users = JSON.parse(localStorage.getItem(\"users\"));\n    let session = getSessionUser();\n\n    for (var i = 0; i < users.length; i++) {\n      if (users[i].id === session.id) {\n        users[i].first_name = this.state.first_name;\n        users[i].last_name = this.state.last_name;\n        users[i].email = this.state.email;\n        users[i].password = this.state.password;\n      }\n    }\n\n    localStorage.setItem(\"users\", JSON.stringify(users)); // Modify session user\n\n    loginUser(this.state.email, this.state.password); // Refresh navbar\n\n    this.props.refresh(); // Updated to be sure\n\n    let user = getSessionUser();\n    this.setState({\n      first_name: user.first_name,\n      last_name: user.last_name,\n      email: user.email,\n      password: user.password\n    });\n  }\n\n  onFirstNameUpdate(event) {\n    this.setState({\n      first_name: event.target.value\n    });\n  }\n\n  onLastNameUpdate(event) {\n    this.setState({\n      last_name: event.target.value\n    });\n  }\n\n  onEmailUpdate(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  onPasswordUpdate(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  onCheck(event) {\n    this.setState({\n      show_password: !this.state.show_password\n    });\n  }\n\n  showPassword() {\n    if (this.state.show_password) {\n      return \"text\";\n    } else {\n      return \"password\";\n    }\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      style: {\n        backgroundColor: \"inherit\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      style: {\n        fontSize: '36px',\n        marginTop: '20px',\n        marginBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"My Account Informations\")), React.createElement(MDBCardBody, {\n      style: {\n        margin: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"First Name :\"), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"firstName\",\n      type: \"text\",\n      icon: \"pen\",\n      value: this.state.first_name,\n      onChange: this.onFirstNameUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }))), React.createElement(MDBCol, {\n      md: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Last Name :\"), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"firstName\",\n      type: \"text\",\n      icon: \"pen\",\n      value: this.state.last_name,\n      onChange: this.onLastNameUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })))), React.createElement(\"h4\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Email:\"), React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"firstName\",\n      type: \"email\",\n      icon: \"pen\",\n      value: this.state.email,\n      onChange: this.onEmailUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })), React.createElement(\"h4\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Password\"), React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"left\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"firstName\",\n      type: this.showPassword(),\n      icon: \"pen\",\n      value: this.state.password,\n      onChange: this.onPasswordUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }))), React.createElement(MDBCol, {\n      className: \"d-flex align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Show password?\")), React.createElement(MDBCol, {\n      className: \"d-flex align-items center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      type: \"checkbox\",\n      id: \"checkbox2\",\n      onChange: this.onCheck,\n      style: {\n        width: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    })))), React.createElement(MDBCardFooter, {\n      style: {\n        backgroundColor: \"inherit\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      middle: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      outline: true,\n      color: \"black\",\n      size: \"lg\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"Save Changes\"))))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Kiary\\Documents\\GitHub\\Projet-React\\ece_watermelon\\src\\Components\\Utils\\AccountEditor.js"],"names":["React","Component","loginUser","getSessionUser","MDBRow","MDBCol","MDBBtn","MDBCard","MDBCardBody","MDBCardHeader","MDBCardFooter","MDBCardTitle","MDBInput","AccountEditor","constructor","props","user","state","first_name","last_name","email","password","show_password","onFirstNameUpdate","bind","onLastNameUpdate","onEmailUpdate","onPasswordUpdate","onCheck","showPassword","submit","event","preventDefault","users","JSON","parse","localStorage","getItem","session","i","length","id","setItem","stringify","refresh","setState","target","value","render","backgroundColor","fontSize","marginTop","marginBottom","margin","textAlign","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport loginUser, { getSessionUser } from \"../../Database/DatabaseSession\";\nimport {\n    MDBRow, MDBCol, MDBBtn, MDBCard, MDBCardBody, MDBCardHeader, MDBCardFooter,\n    MDBCardTitle,\n    MDBInput\n} from \"mdbreact\";\n\nexport default class AccountEditor extends Component {\n\n    constructor(props) {\n        super(props);\n\n        let user = getSessionUser();\n        this.state = {\n            first_name: user.first_name,\n            last_name: user.last_name,\n            email: user.email,\n            password: user.password,\n            show_password: false\n        }\n\n        this.onFirstNameUpdate = this.onFirstNameUpdate.bind(this);\n        this.onLastNameUpdate = this.onLastNameUpdate.bind(this);\n        this.onEmailUpdate = this.onEmailUpdate.bind(this);\n        this.onPasswordUpdate = this.onPasswordUpdate.bind(this);\n        this.onCheck = this.onCheck.bind(this);\n        this.showPassword = this.showPassword.bind(this);\n        this.submit = this.submit.bind(this);\n    }\n\n    submit(event){\n        event.preventDefault();\n        // Modify user in users table\n        let users = JSON.parse(localStorage.getItem(\"users\"))\n        let session = getSessionUser()\n        for(var i=0; i<users.length; i++){\n            if(users[i].id === session.id){\n                users[i].first_name = this.state.first_name;\n                users[i].last_name = this.state.last_name;\n                users[i].email = this.state.email;\n                users[i].password = this.state.password;\n            }\n        }\n        localStorage.setItem(\"users\", JSON.stringify(users));\n        // Modify session user\n        loginUser(this.state.email, this.state.password);\n        // Refresh navbar\n        this.props.refresh();\n\n        // Updated to be sure\n        let user = getSessionUser();\n        this.setState ({\n            first_name: user.first_name,\n            last_name: user.last_name,\n            email: user.email,\n            password: user.password\n        });\n\n    }\n\n    onFirstNameUpdate(event) {\n        this.setState({ first_name: event.target.value });\n    }\n\n    onLastNameUpdate(event) {\n        this.setState({ last_name: event.target.value });\n    }\n\n    onEmailUpdate(event) {\n        this.setState({ email: event.target.value });\n    }\n\n    onPasswordUpdate(event) {\n        this.setState({ password: event.target.value });\n    }\n\n    onCheck(event) {\n        this.setState({ show_password: !this.state.show_password });\n    }\n\n    showPassword() {\n        if (this.state.show_password) {\n            return \"text\";\n        } else {\n            return \"password\";\n        }\n    }\n\n    render() {\n        return (\n            <form onSubmit={this.submit}>\n                <MDBCard className=\"text-center\" >\n\n                    <MDBCardHeader style={{ backgroundColor: \"inherit\" }}>\n                        <MDBCardTitle style={{ fontSize: '36px', marginTop: '20px', marginBottom: '20px' }}>My Account Informations</MDBCardTitle>\n                    </MDBCardHeader>\n                    <MDBCardBody style={{ margin: '50px' }}>\n                        <MDBRow>\n                            <MDBCol md=\"6\">\n                                <h4 style={{ textAlign: \"left\" }}>First Name :</h4>\n                                <div style={{ textAlign: \"left\" }}>\n                                    <MDBInput label=\"firstName\" type=\"text\" icon=\"pen\" value={this.state.first_name} onChange={this.onFirstNameUpdate} />\n                                </div>\n                            </MDBCol>\n                            <MDBCol md=\"6\">\n                                <h4 style={{ textAlign: \"left\" }}>Last Name :</h4>\n                                <div style={{ textAlign: \"left\" }}>\n                                    <MDBInput label=\"firstName\" type=\"text\" icon=\"pen\" value={this.state.last_name} onChange={this.onLastNameUpdate} />\n                                </div>\n                            </MDBCol>\n                        </MDBRow>\n                        <h4 style={{ textAlign: \"left\" }}>Email:</h4>\n                        <div style={{ textAlign: \"left\" }}>\n                            <MDBInput label=\"firstName\" type=\"email\" icon=\"pen\" value={this.state.email} onChange={this.onEmailUpdate} />\n                        </div>\n\n                        \n                        <h4 style={{ textAlign: \"left\" }}>Password</h4>\n                        <MDBRow>\n                            <MDBCol md=\"7\">\n                                <div style={{ textAlign: \"left\" }}>\n                                    <MDBInput label=\"firstName\" type={this.showPassword()} icon=\"pen\" value={this.state.password} onChange={this.onPasswordUpdate} />\n                                </div>\n                            </MDBCol>\n                            <MDBCol className=\"d-flex align-items-center\">\n                                <p>Show password?</p>\n                            </MDBCol>\n                            <MDBCol className=\"d-flex align-items center\">\n                                <MDBInput type=\"checkbox\" id=\"checkbox2\" onChange={this.onCheck} style={{width:\"20px\"}}/>\n                            </MDBCol>\n                        </MDBRow>                      \n\n                    </MDBCardBody>\n                    <MDBCardFooter style={{ backgroundColor: \"inherit\" }} >\n                        <MDBRow middle>\n                            <MDBCol md=\"12\" >\n                                <MDBBtn outline color=\"black\" size=\"lg\" type=\"submit\">Save Changes</MDBBtn>\n                            </MDBCol>\n                        </MDBRow>\n                    </MDBCardFooter>\n                </MDBCard>\n            </form>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}