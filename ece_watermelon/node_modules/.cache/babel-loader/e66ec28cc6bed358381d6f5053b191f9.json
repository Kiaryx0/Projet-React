{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiary\\\\Documents\\\\GitHub\\\\Projet-React\\\\ece_watermelon\\\\src\\\\Components\\\\Utils\\\\TransferModal.js\";\nimport React from \"react\";\nimport { MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter, MDBBtn } from \"mdbreact\";\nimport { makeTransfer } from \"../../Database/DatabaseWallet.js\";\nimport { getSessionUser } from \"../../Database/DatabaseSession.js\";\n\nclass TransferModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.proceed = this.proceed.bind(this);\n    this.showInfos = this.showInfos.bind(this);\n  }\n  /**\r\n   * Validate and update current user wallet and selected user wallet\r\n   */\n\n\n  proceed() {\n    let money = this.props.transfer * 100;\n    let myID = getSessionUser().id;\n    makeTransfer(money, myID, this.props.selectedUser);\n    this.props.close();\n  }\n  /**\r\n   * Confirmation for user to transfer amount to another wallet\r\n   */\n\n\n  showInfos() {\n    if (this.props.selectedUser !== null) {\n      let users = JSON.parse(localStorage.getItem(\"users\"));\n      let userName = users.filter(user => {\n        return user.id === this.props.selectedUser;\n      });\n      let userFirstName = userName[0];\n      console.log(userFirstName);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Are you sure you want to transfer \", this.props.transfer, \"\\u20AC to \", userFirstName.first_name, \" \", userFirstName.last_name, \"?\"));\n    }\n  }\n\n  render() {\n    return React.createElement(MDBModal, {\n      centered: true,\n      isOpen: this.props.toggled,\n      toggle: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Make a Transfer\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.showInfos()), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Close\"), React.createElement(MDBBtn, {\n      color: \"primary\",\n      onClick: () => this.proceed(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Proceed\")));\n  }\n\n}\n\nexport default TransferModal;","map":{"version":3,"sources":["C:\\Users\\Kiary\\Documents\\GitHub\\Projet-React\\ece_watermelon\\src\\Components\\Utils\\TransferModal.js"],"names":["React","MDBModal","MDBModalHeader","MDBModalBody","MDBModalFooter","MDBBtn","makeTransfer","getSessionUser","TransferModal","Component","constructor","props","proceed","bind","showInfos","money","transfer","myID","id","selectedUser","close","users","JSON","parse","localStorage","getItem","userName","filter","user","userFirstName","console","log","first_name","last_name","render","toggled"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,cAAnB,EAAmCC,YAAnC,EAAiDC,cAAjD,EAAiEC,MAAjE,QAA+E,UAA/E;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,cAAT,QAA+B,mCAA/B;;AAGA,MAAMC,aAAN,SAA4BR,KAAK,CAACS,SAAlC,CAA2C;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAa,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAb;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACH;AAED;;;;;AAGAD,EAAAA,OAAO,GAAG;AACN,QAAIG,KAAK,GAAG,KAAKJ,KAAL,CAAWK,QAAX,GAAoB,GAAhC;AACA,QAAIC,IAAI,GAAGV,cAAc,GAAGW,EAA5B;AACAZ,IAAAA,YAAY,CAACS,KAAD,EAAQE,IAAR,EAAc,KAAKN,KAAL,CAAWQ,YAAzB,CAAZ;AACA,SAAKR,KAAL,CAAWS,KAAX;AACH;AAED;;;;;AAGAN,EAAAA,SAAS,GAAG;AACR,QAAG,KAAKH,KAAL,CAAWQ,YAAX,KAA4B,IAA/B,EAAqC;AACjC,UAAIE,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;AACA,UAAIC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAcC,IAAD,IAAU;AAClC,eAAOA,IAAI,CAACV,EAAL,KAAY,KAAKP,KAAL,CAAWQ,YAA9B;AACH,OAFc,CAAf;AAGA,UAAIU,aAAa,GAAGH,QAAQ,CAAC,CAAD,CAA5B;AACAI,MAAAA,OAAO,CAACC,GAAR,CAAYF,aAAZ;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAuC,KAAKlB,KAAL,CAAWK,QAAlD,gBAAiEa,aAAa,CAACG,UAA/E,OAA4FH,aAAa,CAACI,SAA1G,MADL,CADJ;AAKH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,MAAlB;AAAmB,MAAA,MAAM,EAAE,KAAKvB,KAAL,CAAWwB,OAAtC;AAA+C,MAAA,MAAM,EAAE,MAAM,KAAKxB,KAAL,CAAWS,KAAX,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,MAAM,EAAE,MAAM,KAAKT,KAAL,CAAWS,KAAX,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAEI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKN,SAAL,EADL,CAFJ,EAKI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,WAAd;AAA0B,MAAA,OAAO,EAAE,MAAM,KAAKH,KAAL,CAAWS,KAAX,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAE,MAAM,KAAKR,OAAL,EAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CALJ,CADJ;AAYH;;AAlDsC;;AAqD3C,eAAeJ,aAAf","sourcesContent":["import React from \"react\";\r\nimport { MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter, MDBBtn } from \"mdbreact\";\r\nimport { makeTransfer } from \"../../Database/DatabaseWallet.js\";\r\nimport { getSessionUser } from \"../../Database/DatabaseSession.js\";\r\n\r\n\r\nclass TransferModal extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.proceed=this.proceed.bind(this);\r\n        this.showInfos = this.showInfos.bind(this);\r\n    }\r\n\r\n    /**\r\n     * Validate and update current user wallet and selected user wallet\r\n     */\r\n    proceed() {\r\n        let money = this.props.transfer*100;\r\n        let myID = getSessionUser().id;\r\n        makeTransfer(money, myID, this.props.selectedUser);\r\n        this.props.close();\r\n    }\r\n\r\n    /**\r\n     * Confirmation for user to transfer amount to another wallet\r\n     */\r\n    showInfos() {\r\n        if(this.props.selectedUser !== null) {\r\n            let users = JSON.parse(localStorage.getItem(\"users\"));\r\n            let userName = users.filter((user) => {\r\n                return user.id === this.props.selectedUser;\r\n            });\r\n            let userFirstName = userName[0];\r\n            console.log(userFirstName);\r\n            return(\r\n                <div>\r\n                     <h5>Are you sure you want to transfer {this.props.transfer}â‚¬ to {userFirstName.first_name} {userFirstName.last_name}?</h5>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <MDBModal centered isOpen={this.props.toggled} toggle={() => this.props.close()}>\r\n                <MDBModalHeader toggle={() => this.props.close()}>Make a Transfer</MDBModalHeader>\r\n                <MDBModalBody>\r\n                    {this.showInfos()}\r\n                </MDBModalBody>\r\n                <MDBModalFooter>\r\n                    <MDBBtn color=\"secondary\" onClick={() => this.props.close()}>Close</MDBBtn>\r\n                    <MDBBtn color=\"primary\" onClick={() => this.proceed()}>Proceed</MDBBtn>\r\n                </MDBModalFooter>\r\n            </MDBModal>\r\n        );\r\n    }\r\n\r\n}\r\nexport default TransferModal;"]},"metadata":{},"sourceType":"module"}