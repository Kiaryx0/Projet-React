{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiary\\\\Documents\\\\GitHub\\\\Projet-React\\\\ece_watermelon\\\\src\\\\Components\\\\Utils\\\\TransferModal.js\";\nimport React from \"react\";\nimport { MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter, MDBBtn } from \"mdbreact\";\nimport { makeTransfer } from \"../../Database/DatabaseWallet.js\";\nimport { getSessionUser } from \"../../Database/DatabaseSession.js\";\n\nclass TransferModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggled = false;\n    this.close = null;\n    this.selectedID = 0;\n    this.transfer = 0;\n    this.proceed = this.proceed.bind(this);\n    this.showInfos = this.showInfos.bind(this);\n  }\n\n  proceed() {\n    let money = this.props.deposit * 100;\n    let myID = getSessionUser().id;\n    makeTransfer(money, myID, this.props.selectedID);\n    this.props.close();\n  }\n\n  showInfos() {\n    if (this.props.selectedID !== 0) {\n      let users = JSON.parse(localStorage.getItem(\"users\"));\n      let userName = users.filter(user => {\n        return this.props.selectedID === user.id;\n      });\n\n      if (userName.length === 1) {\n        console.log(this.props.selectedID);\n      } // let userFirstName = userName[0].first_name;\n      // let userLastName = userName[0].last_name;\n      // return(\n      //     <div>\n      //         <h5>Are you sure you want to transfer {this.props.transfer}€ to {userFirstName} {userLastName}?</h5>\n      //     </div>\n      // );\n\n    }\n  }\n\n  render() {\n    return React.createElement(MDBModal, {\n      centered: true,\n      isOpen: this.props.toggled,\n      toggle: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Make a Transfer\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, this.showInfos()), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: () => this.props.close(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Close\"), React.createElement(MDBBtn, {\n      color: \"primary\",\n      onClick: () => this.proceed(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Proceed\")));\n  }\n\n}\n\nexport default TransferModal;","map":{"version":3,"sources":["C:\\Users\\Kiary\\Documents\\GitHub\\Projet-React\\ece_watermelon\\src\\Components\\Utils\\TransferModal.js"],"names":["React","MDBModal","MDBModalHeader","MDBModalBody","MDBModalFooter","MDBBtn","makeTransfer","getSessionUser","TransferModal","Component","constructor","props","toggled","close","selectedID","transfer","proceed","bind","showInfos","money","deposit","myID","id","users","JSON","parse","localStorage","getItem","userName","filter","user","length","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,cAAnB,EAAmCC,YAAnC,EAAiDC,cAAjD,EAAiEC,MAAjE,QAA+E,UAA/E;AACA,SAASC,YAAT,QAA6B,kCAA7B;AACA,SAASC,cAAT,QAA+B,mCAA/B;;AAGA,MAAMC,aAAN,SAA4BR,KAAK,CAACS,SAAlC,CAA2C;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,KAAL,GAAa,IAAb;AACA,SAAKC,UAAL,GAAkB,CAAlB;AACA,SAAKC,QAAL,GAAgB,CAAhB;AACA,SAAKC,OAAL,GAAa,KAAKA,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAb;AACA,SAAKC,SAAL,GAAiB,KAAKA,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAjB;AACH;;AAEDD,EAAAA,OAAO,GAAG;AACN,QAAIG,KAAK,GAAG,KAAKR,KAAL,CAAWS,OAAX,GAAmB,GAA/B;AACA,QAAIC,IAAI,GAAGd,cAAc,GAAGe,EAA5B;AACAhB,IAAAA,YAAY,CAACa,KAAD,EAAQE,IAAR,EAAc,KAAKV,KAAL,CAAWG,UAAzB,CAAZ;AACA,SAAKH,KAAL,CAAWE,KAAX;AACH;;AAEDK,EAAAA,SAAS,GAAG;AACR,QAAG,KAAKP,KAAL,CAAWG,UAAX,KAA0B,CAA7B,EAAgC;AAC5B,UAAIS,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ;AACA,UAAIC,QAAQ,GAAGL,KAAK,CAACM,MAAN,CAAcC,IAAD,IAAU;AAClC,eAAO,KAAKnB,KAAL,CAAWG,UAAX,KAA0BgB,IAAI,CAACR,EAAtC;AACH,OAFc,CAAf;;AAGA,UAAGM,QAAQ,CAACG,MAAT,KAAoB,CAAvB,EAAyB;AACzBC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAL,CAAWG,UAAvB;AACC,OAP2B,CAQ5B;AACA;AACA;AACA;AACA;AACA;AACA;;AACH;AACJ;;AAEDoB,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,QAAD;AAAU,MAAA,QAAQ,MAAlB;AAAmB,MAAA,MAAM,EAAE,KAAKvB,KAAL,CAAWC,OAAtC;AAA+C,MAAA,MAAM,EAAE,MAAM,KAAKD,KAAL,CAAWE,KAAX,EAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,MAAM,EAAE,MAAM,KAAKF,KAAL,CAAWE,KAAX,EAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAEI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKK,SAAL,EADL,CAFJ,EAKI,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,WAAd;AAA0B,MAAA,OAAO,EAAE,MAAM,KAAKP,KAAL,CAAWE,KAAX,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,SAAd;AAAwB,MAAA,OAAO,EAAE,MAAM,KAAKG,OAAL,EAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CALJ,CADJ;AAYH;;AAnDsC;;AAsD3C,eAAeR,aAAf","sourcesContent":["import React from \"react\";\r\nimport { MDBModal, MDBModalHeader, MDBModalBody, MDBModalFooter, MDBBtn } from \"mdbreact\";\r\nimport { makeTransfer } from \"../../Database/DatabaseWallet.js\";\r\nimport { getSessionUser } from \"../../Database/DatabaseSession.js\";\r\n\r\n\r\nclass TransferModal extends React.Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.toggled = false;\r\n        this.close = null;\r\n        this.selectedID = 0;\r\n        this.transfer = 0;\r\n        this.proceed=this.proceed.bind(this);\r\n        this.showInfos = this.showInfos.bind(this);\r\n    }\r\n\r\n    proceed() {\r\n        let money = this.props.deposit*100;\r\n        let myID = getSessionUser().id;\r\n        makeTransfer(money, myID, this.props.selectedID);\r\n        this.props.close();\r\n    }\r\n\r\n    showInfos() {\r\n        if(this.props.selectedID !== 0) {\r\n            let users = JSON.parse(localStorage.getItem(\"users\"));\r\n            let userName = users.filter((user) => {\r\n                return this.props.selectedID === user.id\r\n            })\r\n            if(userName.length === 1){\r\n            console.log(this.props.selectedID);\r\n            }\r\n            // let userFirstName = userName[0].first_name;\r\n            // let userLastName = userName[0].last_name;\r\n            // return(\r\n            //     <div>\r\n            //         <h5>Are you sure you want to transfer {this.props.transfer}€ to {userFirstName} {userLastName}?</h5>\r\n            //     </div>\r\n            // );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <MDBModal centered isOpen={this.props.toggled} toggle={() => this.props.close()}>\r\n                <MDBModalHeader toggle={() => this.props.close()}>Make a Transfer</MDBModalHeader>\r\n                <MDBModalBody>\r\n                    {this.showInfos()}\r\n                </MDBModalBody>\r\n                <MDBModalFooter>\r\n                    <MDBBtn color=\"secondary\" onClick={() => this.props.close()}>Close</MDBBtn>\r\n                    <MDBBtn color=\"primary\" onClick={() => this.proceed()}>Proceed</MDBBtn>\r\n                </MDBModalFooter>\r\n            </MDBModal>\r\n        );\r\n    }\r\n\r\n}\r\nexport default TransferModal;"]},"metadata":{},"sourceType":"module"}