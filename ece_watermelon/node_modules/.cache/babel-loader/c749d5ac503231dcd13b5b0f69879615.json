{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiary\\\\Documents\\\\GitHub\\\\Projet-React\\\\ece_watermelon\\\\src\\\\Components\\\\AccountContent.js\";\nimport React, { Component } from \"react\";\nimport { MDBRow, MDBCol, MDBListGroup, MDBBtn, MDBListGroupItem, MDBCard, MDBCardBody, MDBCardHeader, MDBCardFooter, MDBCardTitle, MDBContainer, MDBView, MDBMask } from \"mdbreact\";\nimport './style.css';\nimport getSessionCards, { getCardPictureSrc } from \"../Database/DatabaseCard\";\nimport CardAdder from \"./Utils/CardAdder\";\nimport CardDeleter from \"./Utils/CardDeleter\";\nimport CardEditor from \"./Utils/CardEditor\";\nimport AccountEditor from \"./Utils/AccountEditor\";\nimport background from '../Pictures/backgroundmain.jpg';\nexport default class AccountContent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalAddCard: false,\n      modalDeleteCard: false,\n      modalEditCard: false,\n      cardSelected: null,\n      cards: getSessionCards()\n    };\n    this.toggle = this.toggle.bind(this);\n    this.isActive = this.isActive.bind(this);\n    this.setSelectedCard = this.setSelectedCard.bind(this);\n    this.cardList = this.cardList.bind(this);\n    this.showAddingCard = this.showAddingCard.bind(this);\n    this.closeAddingCard = this.closeAddingCard.bind(this);\n    this.showDeletingCard = this.showDeletingCard.bind(this);\n    this.closeDeletingCard = this.closeDeletingCard.bind(this);\n  }\n  /**\n   * Used to set Adding Card modal state to active\n   */\n\n\n  showAddingCard() {\n    this.setState({\n      modalAddCard: true\n    });\n  }\n  /**\n   * Used to set Adding Card modal state to normal\n   */\n\n\n  closeAddingCard() {\n    this.setState({\n      modalAddCard: false,\n      cards: getSessionCards()\n    });\n  }\n  /**\n   * Used to set Editing Card modal state to active\n   */\n\n\n  showEditingCard() {\n    if (this.state.cardSelected !== null) {\n      this.setState({\n        modalEditCard: true\n      });\n    }\n  }\n  /**\n   * Used to set Editing Card modal state to normal\n   */\n\n\n  closeEditingCard() {\n    this.setState({\n      modalEditCard: false,\n      cards: getSessionCards()\n    });\n  }\n  /**\n   * Used to set Adding Card modal state to active\n   */\n\n\n  showDeletingCard() {\n    if (this.state.cardSelected !== null) {\n      this.setState({\n        modalDeleteCard: true\n      });\n    }\n  }\n  /**\n   * Used to set Deleting Card modal state to normal\n   */\n\n\n  closeDeletingCard() {\n    this.setState({\n      modalDeleteCard: false,\n      cards: getSessionCards()\n    });\n  }\n  /**\n   * Used to toggle modal state and activate it when a deposit / withdrawal has to be done\n   */\n\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n  /**\n   * Return active css props if the card id item used in render is the one of the state\n   * @param {*card id of the list item} cardID \n   */\n\n\n  isActive(cardID) {\n    if (cardID === this.state.cardSelected) {\n      return 'active';\n    } else {\n      return 'hover';\n    }\n  }\n  /**\n   * Set Active css ID\n   * @param {active card id} cardID \n   */\n\n\n  setSelectedCard(cardID) {\n    this.setState({\n      cardSelected: cardID\n    });\n  }\n  /**\n   * Display the card list of the current user\n   */\n\n\n  cardList() {\n    if (this.state.cards !== null) {\n      return this.state.cards.map(card => React.createElement(MDBListGroupItem, {\n        key: card.id,\n        className: this.isActive(card.id),\n        onClick: () => this.setSelectedCard(card.id),\n        style: {\n          paddingTop: '25px',\n          paddingBottom: '25px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: getCardPictureSrc(card),\n        alt: \"\",\n        style: {\n          width: '100%',\n          maxWidth: '80px',\n          display: 'inline-block'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          display: 'inline-block',\n          marginLeft: '20px',\n          verticalAlign: 'bottom'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        style: {\n          display: 'inline',\n          marginLeft: '20px',\n          textAlign: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Card : ****-****-****-\", card.last_4), React.createElement(\"p\", {\n        style: {\n          marginLeft: '20px',\n          textAlign: \"left\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Expired at : \", card.expired_at)))));\n    }\n\n    ;\n  }\n\n  render() {\n    return React.createElement(MDBView, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: background,\n      alt: \"\",\n      style: {\n        backgroundRepeat: \"cover\",\n        width: \"100vw\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }), React.createElement(MDBMask, {\n      overlay: \"black-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(CardAdder, {\n      toggled: this.state.modalAddCard,\n      closeAddingCard: () => this.closeAddingCard(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(CardDeleter, {\n      toggled: this.state.modalDeleteCard,\n      selectedID: this.state.cardSelected,\n      closeDeletingCard: () => this.closeDeletingCard(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }), React.createElement(CardEditor, {\n      toggled: this.state.modalEditCard,\n      selectedID: this.state.cardSelected,\n      closeEditingCard: () => this.closeEditingCard(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(MDBContainer, {\n      style: {\n        marginBottom: '50px',\n        marginTop: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center\",\n      style: {\n        fontSize: '40px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"My Account Manager\")), React.createElement(MDBRow, {\n      className: \"text-align-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      style: {\n        paddingLeft: '5%',\n        paddingRight: '5%',\n        marginBottom: '150px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      style: {\n        backgroundColor: \"inherit\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      style: {\n        fontSize: '36px',\n        marginTop: '20px',\n        marginBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"My Card Manager\")), React.createElement(MDBCardBody, {\n      style: {\n        margin: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(MDBListGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.cardList())), React.createElement(MDBCardFooter, {\n      style: {\n        backgroundColor: \"inherit\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      middle: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      outline: true,\n      color: \"success\",\n      size: \"lg\",\n      onClick: () => this.showAddingCard(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Add Card\")), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      outline: true,\n      color: \"warning\",\n      size: \"lg\",\n      onClick: () => this.showEditingCard(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Edit Card\")), React.createElement(MDBCol, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      outline: true,\n      color: \"danger\",\n      size: \"lg\",\n      onClick: () => this.showDeletingCard(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"Delete Card\")))))), React.createElement(MDBCol, {\n      md: \"6\",\n      style: {\n        paddingLeft: '5%',\n        paddingRight: '5%',\n        marginBottom: '150px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(AccountEditor, {\n      refresh: this.props.refresh,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }))))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Kiary\\Documents\\GitHub\\Projet-React\\ece_watermelon\\src\\Components\\AccountContent.js"],"names":["React","Component","MDBRow","MDBCol","MDBListGroup","MDBBtn","MDBListGroupItem","MDBCard","MDBCardBody","MDBCardHeader","MDBCardFooter","MDBCardTitle","MDBContainer","MDBView","MDBMask","getSessionCards","getCardPictureSrc","CardAdder","CardDeleter","CardEditor","AccountEditor","background","AccountContent","constructor","props","state","modalAddCard","modalDeleteCard","modalEditCard","cardSelected","cards","toggle","bind","isActive","setSelectedCard","cardList","showAddingCard","closeAddingCard","showDeletingCard","closeDeletingCard","setState","showEditingCard","closeEditingCard","modal","cardID","map","card","id","paddingTop","paddingBottom","width","maxWidth","display","marginLeft","verticalAlign","textAlign","last_4","expired_at","render","backgroundRepeat","marginBottom","marginTop","fontSize","fontWeight","paddingLeft","paddingRight","backgroundColor","margin","refresh"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACIC,MADJ,EACYC,MADZ,EACoBC,YADpB,EACkCC,MADlC,EAC0CC,gBAD1C,EAC4DC,OAD5D,EACqEC,WADrE,EACkFC,aADlF,EACiGC,aADjG,EAEIC,YAFJ,EAEkBC,YAFlB,EAEgCC,OAFhC,EAEyCC,OAFzC,QAGO,UAHP;AAIA,OAAO,aAAP;AACA,OAAOC,eAAP,IAA0BC,iBAA1B,QAAmD,0BAAnD;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,UAAP,MAAuB,oBAAvB;AACA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,OAAOC,UAAP,MAAuB,gCAAvB;AAEA,eAAe,MAAMC,cAAN,SAA6BrB,SAA7B,CAAuC;AAElDsB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAE,KADL;AAETC,MAAAA,eAAe,EAAE,KAFR;AAGTC,MAAAA,aAAa,EAAE,KAHN;AAITC,MAAAA,YAAY,EAAE,IAJL;AAKTC,MAAAA,KAAK,EAAEf,eAAe;AALb,KAAb;AAOA,SAAKgB,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcD,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKE,eAAL,GAAuB,KAAKA,eAAL,CAAqBF,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKG,QAAL,GAAgB,KAAKA,QAAL,CAAcH,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKI,cAAL,GAAsB,KAAKA,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKK,eAAL,GAAuB,KAAKA,eAAL,CAAqBL,IAArB,CAA0B,IAA1B,CAAvB;AACA,SAAKM,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBN,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKO,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBP,IAAvB,CAA4B,IAA5B,CAAzB;AACH;AAED;;;;;AAGAI,EAAAA,cAAc,GAAG;AACb,SAAKI,QAAL,CAAc;AACVd,MAAAA,YAAY,EAAE;AADJ,KAAd;AAGH;AAED;;;;;AAGAW,EAAAA,eAAe,GAAG;AACd,SAAKG,QAAL,CAAc;AACVd,MAAAA,YAAY,EAAE,KADJ;AAEVI,MAAAA,KAAK,EAAEf,eAAe;AAFZ,KAAd;AAIH;AAED;;;;;AAGA0B,EAAAA,eAAe,GAAG;AACd,QAAG,KAAKhB,KAAL,CAAWI,YAAX,KAA4B,IAA/B,EAAoC;AAChC,WAAKW,QAAL,CAAc;AACVZ,QAAAA,aAAa,EAAE;AADL,OAAd;AAGH;AACJ;AAED;;;;;AAGAc,EAAAA,gBAAgB,GAAG;AACf,SAAKF,QAAL,CAAc;AACVZ,MAAAA,aAAa,EAAE,KADL;AAEVE,MAAAA,KAAK,EAAEf,eAAe;AAFZ,KAAd;AAIH;AAED;;;;;AAGAuB,EAAAA,gBAAgB,GAAG;AACf,QAAG,KAAKb,KAAL,CAAWI,YAAX,KAA4B,IAA/B,EAAoC;AAChC,WAAKW,QAAL,CAAc;AACVb,QAAAA,eAAe,EAAE;AADP,OAAd;AAGH;AACJ;AAED;;;;;AAGAY,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,QAAL,CAAc;AACVb,MAAAA,eAAe,EAAE,KADP;AAEVG,MAAAA,KAAK,EAAEf,eAAe;AAFZ,KAAd;AAIH;AAED;;;;;AAGAgB,EAAAA,MAAM,GAAG;AACL,SAAKS,QAAL,CAAc;AACVG,MAAAA,KAAK,EAAE,CAAC,KAAKlB,KAAL,CAAWkB;AADT,KAAd;AAGH;AAED;;;;;;AAIAV,EAAAA,QAAQ,CAACW,MAAD,EAAS;AACb,QAAIA,MAAM,KAAK,KAAKnB,KAAL,CAAWI,YAA1B,EAAwC;AACpC,aAAO,QAAP;AACH,KAFD,MAEO;AACH,aAAO,OAAP;AACH;AACJ;AAED;;;;;;AAIAK,EAAAA,eAAe,CAACU,MAAD,EAAS;AACpB,SAAKJ,QAAL,CAAc;AACVX,MAAAA,YAAY,EAAEe;AADJ,KAAd;AAGH;AAED;;;;;AAGAT,EAAAA,QAAQ,GAAG;AACP,QAAG,KAAKV,KAAL,CAAWK,KAAX,KAAmB,IAAtB,EAA2B;AAC3B,aAAO,KAAKL,KAAL,CAAWK,KAAX,CAAiBe,GAAjB,CAAsBC,IAAD,IACxB,oBAAC,gBAAD;AAAkB,QAAA,GAAG,EAAEA,IAAI,CAACC,EAA5B;AAAiC,QAAA,SAAS,EAAE,KAAKd,QAAL,CAAca,IAAI,CAACC,EAAnB,CAA5C;AAAoE,QAAA,OAAO,EAAE,MAAM,KAAKb,eAAL,CAAqBY,IAAI,CAACC,EAA1B,CAAnF;AAAkH,QAAA,KAAK,EAAE;AAAEC,UAAAA,UAAU,EAAE,MAAd;AAAsBC,UAAAA,aAAa,EAAE;AAArC,SAAzH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,GAAG,EAAEjC,iBAAiB,CAAC8B,IAAD,CAA3B;AAAmC,QAAA,GAAG,EAAC,EAAvC;AAA0C,QAAA,KAAK,EAAE;AAAEI,UAAAA,KAAK,EAAE,MAAT;AAAiBC,UAAAA,QAAQ,EAAE,MAA3B;AAAmCC,UAAAA,OAAO,EAAE;AAA5C,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,KAAK,EAAE;AAAEA,UAAAA,OAAO,EAAE,cAAX;AAA2BC,UAAAA,UAAU,EAAE,MAAvC;AAA+CC,UAAAA,aAAa,EAAC;AAA7D,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAI,QAAA,KAAK,EAAE;AAAEF,UAAAA,OAAO,EAAE,QAAX;AAAqBC,UAAAA,UAAU,EAAE,MAAjC;AAAyCE,UAAAA,SAAS,EAAC;AAAnD,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA+FT,IAAI,CAACU,MAApG,CADJ,EAEI;AAAG,QAAA,KAAK,EAAE;AAACH,UAAAA,UAAU,EAAE,MAAb;AAAoBE,UAAAA,SAAS,EAAC;AAA9B,SAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA+DT,IAAI,CAACW,UAApE,CAFJ,CAFJ,CADJ,CADG,CAAP;AAUG;;AAAA;AACN;;AAEDC,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,GAAG,EAAErC,UAAV;AAAsB,MAAA,GAAG,EAAC,EAA1B;AAA6B,MAAA,KAAK,EAAE;AAAEsC,QAAAA,gBAAgB,EAAE,OAApB;AAA6BT,QAAAA,KAAK,EAAC;AAAnC,OAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,OAAD;AAAS,MAAA,OAAO,EAAC,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,SAAD;AAAW,MAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWC,YAA/B;AAA6C,MAAA,eAAe,EAAE,MAAK,KAAKW,eAAL,EAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,WAAD;AAAc,MAAA,OAAO,EAAE,KAAKZ,KAAL,CAAWE,eAAlC;AAAmD,MAAA,UAAU,EAAE,KAAKF,KAAL,CAAWI,YAA1E;AAAwF,MAAA,iBAAiB,EAAE,MAAK,KAAKU,iBAAL,EAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,UAAD;AAAa,MAAA,OAAO,EAAE,KAAKd,KAAL,CAAWG,aAAjC;AAAgD,MAAA,UAAU,EAAE,KAAKH,KAAL,CAAWI,YAAvE;AAAqF,MAAA,gBAAgB,EAAE,MAAK,KAAKa,gBAAL,EAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE;AAAEkB,QAAAA,YAAY,EAAE,MAAhB;AAAwBC,QAAAA,SAAS,EAAE;AAAnC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,aAAd;AAA4B,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE,MAAZ;AAAoBC,QAAAA,UAAU,EAAE;AAAhC,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,CAJJ,EAOI,oBAAC,MAAD;AAAQ,MAAA,SAAS,EAAC,mBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGI,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAe,MAAA,KAAK,EAAE;AAAEC,QAAAA,WAAW,EAAE,IAAf;AAAqBC,QAAAA,YAAY,EAAE,IAAnC;AAAyCL,QAAAA,YAAY,EAAE,OAAvD;AAAgEV,QAAAA,KAAK,EAAE;AAAvE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,OAAD;AAAS,MAAA,SAAS,EAAC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAE;AAAEgB,QAAAA,eAAe,EAAE;AAAnB,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE;AAAEJ,QAAAA,QAAQ,EAAE,MAAZ;AAAoBD,QAAAA,SAAS,EAAE,MAA/B;AAAuCD,QAAAA,YAAY,EAAE;AAArD,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,CAFJ,EAKI,oBAAC,WAAD;AAAa,MAAA,KAAK,EAAE;AAAEO,QAAAA,MAAM,EAAE;AAAV,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKhC,QAAL,EADL,CADJ,CALJ,EAUQ,oBAAC,aAAD;AAAe,MAAA,KAAK,EAAE;AAAE+B,QAAAA,eAAe,EAAE;AAAnB,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,MAAM,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,MAAf;AAAgB,MAAA,KAAK,EAAC,SAAtB;AAAgC,MAAA,IAAI,EAAC,IAArC;AAA0C,MAAA,OAAO,EAAE,MAAI,KAAK9B,cAAL,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CADJ,EAII,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,MAAf;AAAgB,MAAA,KAAK,EAAC,SAAtB;AAAgC,MAAA,IAAI,EAAC,IAArC;AAA0C,MAAA,OAAO,EAAE,MAAI,KAAKK,eAAL,EAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CAJJ,EAOI,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,OAAO,MAAf;AAAgB,MAAA,KAAK,EAAC,QAAtB;AAA+B,MAAA,IAAI,EAAC,IAApC;AAAyC,MAAA,OAAO,EAAE,MAAI,KAAKH,gBAAL,EAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CAPJ,CADJ,CAVR,CADJ,CAHJ,EAgCI,oBAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,GAAX;AAAe,MAAA,KAAK,EAAE;AAAE0B,QAAAA,WAAW,EAAE,IAAf;AAAqBC,QAAAA,YAAY,EAAE,IAAnC;AAAyCL,QAAAA,YAAY,EAAE,OAAvD;AAAgEV,QAAAA,KAAK,EAAE;AAAvE,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAE,KAAK1B,KAAL,CAAW4C,OAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAhCJ,CAPJ,CADI,CAFJ,CADJ;AAoDH;;AAxLiD","sourcesContent":["import React, { Component } from \"react\";\nimport {\n    MDBRow, MDBCol, MDBListGroup, MDBBtn, MDBListGroupItem, MDBCard, MDBCardBody, MDBCardHeader, MDBCardFooter,\n    MDBCardTitle, MDBContainer, MDBView, MDBMask\n} from \"mdbreact\";\nimport './style.css';\nimport getSessionCards, { getCardPictureSrc } from \"../Database/DatabaseCard\";\nimport CardAdder from \"./Utils/CardAdder\";\nimport CardDeleter from \"./Utils/CardDeleter\";\nimport CardEditor from \"./Utils/CardEditor\";\nimport AccountEditor from \"./Utils/AccountEditor\";\nimport background from '../Pictures/backgroundmain.jpg'\n\nexport default class AccountContent extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            modalAddCard: false,\n            modalDeleteCard: false,\n            modalEditCard: false,\n            cardSelected: null,\n            cards: getSessionCards()\n        };\n        this.toggle = this.toggle.bind(this);\n        this.isActive = this.isActive.bind(this);\n        this.setSelectedCard = this.setSelectedCard.bind(this);\n        this.cardList = this.cardList.bind(this);\n        this.showAddingCard = this.showAddingCard.bind(this);\n        this.closeAddingCard = this.closeAddingCard.bind(this);\n        this.showDeletingCard = this.showDeletingCard.bind(this);\n        this.closeDeletingCard = this.closeDeletingCard.bind(this);\n    }\n\n    /**\n     * Used to set Adding Card modal state to active\n     */\n    showAddingCard() {\n        this.setState({\n            modalAddCard: true\n        });\n    }\n\n    /**\n     * Used to set Adding Card modal state to normal\n     */\n    closeAddingCard() {\n        this.setState({\n            modalAddCard: false,\n            cards: getSessionCards()\n        });\n    }\n\n    /**\n     * Used to set Editing Card modal state to active\n     */\n    showEditingCard() {\n        if(this.state.cardSelected !== null){\n            this.setState({\n                modalEditCard: true\n            });\n        }\n    }\n\n    /**\n     * Used to set Editing Card modal state to normal\n     */\n    closeEditingCard() {\n        this.setState({\n            modalEditCard: false,\n            cards: getSessionCards()\n        });\n    }\n\n    /**\n     * Used to set Adding Card modal state to active\n     */\n    showDeletingCard() {\n        if(this.state.cardSelected !== null){\n            this.setState({\n                modalDeleteCard: true\n            });\n        }\n    }\n\n    /**\n     * Used to set Deleting Card modal state to normal\n     */\n    closeDeletingCard() {\n        this.setState({\n            modalDeleteCard: false,\n            cards: getSessionCards()\n        });\n    }\n\n    /**\n     * Used to toggle modal state and activate it when a deposit / withdrawal has to be done\n     */\n    toggle() {\n        this.setState({\n            modal: !this.state.modal\n        });\n    }\n\n    /**\n     * Return active css props if the card id item used in render is the one of the state\n     * @param {*card id of the list item} cardID \n     */\n    isActive(cardID) {\n        if (cardID === this.state.cardSelected) {\n            return 'active';\n        } else {\n            return 'hover';\n        }\n    }\n\n    /**\n     * Set Active css ID\n     * @param {active card id} cardID \n     */\n    setSelectedCard(cardID) {\n        this.setState({\n            cardSelected: cardID\n        });\n    }\n\n    /**\n     * Display the card list of the current user\n     */\n    cardList() {\n        if(this.state.cards!==null){\n        return this.state.cards.map((card) =>\n            <MDBListGroupItem key={card.id}  className={this.isActive(card.id)} onClick={() => this.setSelectedCard(card.id)} style={{ paddingTop: '25px', paddingBottom: '25px' }}>\n                <div className=\"justify-content-between\">\n                    <img src={getCardPictureSrc(card)} alt=\"\" style={{ width: '100%', maxWidth: '80px', display: 'inline-block' }}></img>\n                    <div style={{ display: 'inline-block', marginLeft: '20px', verticalAlign:'bottom' }}>\n                        <h5 style={{ display: 'inline', marginLeft: '20px', textAlign:\"left\" }}>Card : ****-****-****-{card.last_4}</h5>\n                        <p style={{marginLeft: '20px',textAlign:\"left\"}}>Expired at : {card.expired_at}</p>\n                    </div>\n                </div>\n            </MDBListGroupItem>\n        );};\n    }\n\n    render() {\n        return (\n            <MDBView>\n                <img src={background} alt=\"\" style={{ backgroundRepeat: \"cover\", width:\"100vw\" }} />\n                <MDBMask overlay=\"black-light\">\n            <div>\n                <CardAdder toggled={this.state.modalAddCard} closeAddingCard={() =>this.closeAddingCard()}/> \n                <CardDeleter  toggled={this.state.modalDeleteCard} selectedID={this.state.cardSelected} closeDeletingCard={() =>this.closeDeletingCard()}/>\n                <CardEditor  toggled={this.state.modalEditCard} selectedID={this.state.cardSelected} closeEditingCard={() =>this.closeEditingCard()}/>\n                <MDBContainer style={{ marginBottom: '50px', marginTop: '50px' }}>\n                    <h1 className=\"text-center\" style={{ fontSize: '40px', fontWeight: 'bold' }}>My Account Manager</h1>\n                </MDBContainer>\n                <MDBRow className=\"text-align-center\" >\n\n\n                    <MDBCol md=\"6\" style={{ paddingLeft: '5%', paddingRight: '5%', marginBottom: '150px', width: '100%' }}>\n                        <MDBCard className=\"text-center\" >\n\n                            <MDBCardHeader style={{ backgroundColor: \"inherit\" }}>\n                                <MDBCardTitle style={{ fontSize: '36px', marginTop: '20px', marginBottom: '20px' }}>My Card Manager</MDBCardTitle>\n                            </MDBCardHeader>\n                            <MDBCardBody style={{ margin: '50px' }}>\n                                <MDBListGroup >\n                                    {this.cardList()}\n                                </MDBListGroup>\n                            </MDBCardBody>\n                                <MDBCardFooter style={{ backgroundColor: \"inherit\" }}>\n                                    <MDBRow middle>\n                                        <MDBCol md=\"4\">\n                                            <MDBBtn outline color=\"success\" size=\"lg\" onClick={()=>this.showAddingCard()}>Add Card</MDBBtn>\n                                        </MDBCol>\n                                        <MDBCol md=\"4\">\n                                            <MDBBtn outline color=\"warning\" size=\"lg\" onClick={()=>this.showEditingCard()}>Edit Card</MDBBtn>\n                                        </MDBCol>\n                                        <MDBCol md=\"4\">\n                                            <MDBBtn outline color=\"danger\" size=\"lg\" onClick={()=>this.showDeletingCard()}>Delete Card</MDBBtn>\n                                        </MDBCol>\n                                    </MDBRow>\n                                </MDBCardFooter>\n\n                            \n                        </MDBCard>\n                    </MDBCol>\n\n                    <MDBCol md=\"6\" style={{ paddingLeft: '5%', paddingRight: '5%', marginBottom: '150px', width: '100%' }}>\n                        <AccountEditor refresh={this.props.refresh}/>\n                    </MDBCol>\n\n                </MDBRow>\n            </div>\n            </MDBMask>\n            </MDBView>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}