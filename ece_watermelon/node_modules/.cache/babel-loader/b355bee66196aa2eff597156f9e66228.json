{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kiary\\\\Documents\\\\GitHub\\\\Projet-React\\\\ece_watermelon\\\\src\\\\Components\\\\TransferContent.js\";\nimport React from 'react';\nimport { MDBView, MDBMask, MDBContainer, MDBCard, MDBRow, MDBCol, MDBListGroupItem, MDBListGroup, MDBCardHeader, MDBCardTitle, MDBCardBody, MDBCardText, MDBBtn, MDBInput, MDBCardFooter } from 'mdbreact';\nimport wallet from '../Pictures/wallet.png';\nimport background from '../Pictures/backgroundmain.jpg';\nimport './style.css';\nimport { getWalletAmount } from '../Database/DatabaseWallet.js';\n\nclass TransferContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchedUsers: '',\n      wallet: parseFloat(getWalletAmount()).toFixed(2),\n      transferAmount: '',\n      searchInput: '',\n      userSearch: false,\n      userSelected: '',\n      modalTransfer: false\n    };\n    this.isActive = this.isActive.bind(this);\n    this.setSelectedUser = this.setSelectedUser.bind(this);\n    this.handleAmountInput = this.handleAmountInput.bind(this);\n    this.handleSearchInput = this.handleSearchInput.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.usersList = this.usersList.bind(this);\n  }\n\n  handleAmountInput(event) {\n    this.setState({\n      transferAmount: event.target.value\n    });\n  }\n\n  handleSearchInput(event) {\n    this.setState({\n      searchInput: event.target.value\n    });\n  }\n  /**\n   * Used to set Transfer modal state to active\n   * Check that wallet value is a number > 0\n   */\n\n\n  openTransfer() {\n    this.setState({\n      transferAmount: parseFloat(this.state.transferAmount).toFixed(2)\n    });\n\n    if (parseFloat(this.state.transferAmount) > 0.0) {\n      this.setState({\n        modalTransfer: true\n      });\n    }\n  }\n  /**\n   * Used to set Transfer modal state to normal\n   */\n\n\n  closeTransfer() {\n    this.setState({\n      modalTransfer: false,\n      wallet: getWalletAmount()\n    });\n  }\n\n  handleSearch(event) {\n    event.preventDefault();\n    const dbUsers = JSON.parse(localStorage.getItem(\"users\"));\n    const lowerCasedInput = this.state.searchInput.toString().toLowerCase();\n    var matchedSearched = dbUsers.filter(user => {\n      const lowerCasedFN = user.first_name.toLowerCase();\n      const lowerCasedLN = user.last_name.toLowerCase();\n\n      if (lowerCasedFN.includes(lowerCasedInput) || lowerCasedLN.includes(lowerCasedInput)) {\n        return user;\n      }\n    });\n    this.setState({\n      userSearch: true,\n      searchedUsers: matchedSearched\n    });\n    console.log(lowerCasedInput);\n    console.log(matchedSearched);\n  }\n\n  isActive(userID) {\n    if (userID === this.state.userSelected) {\n      return 'active';\n    } else {\n      return 'hover';\n    }\n  }\n\n  setSelectedUser(userID) {\n    this.setState({\n      userSelected: userID\n    });\n  }\n\n  usersList() {\n    return this.state.searchedUsers.map(user => React.createElement(MDBListGroupItem, {\n      key: user.id,\n      className: this.isActive(user.id),\n      onClick: () => this.setSelectedUser(user.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      style: {\n        fontSize: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, user.first_name, \" \", user.last_name))));\n  }\n\n  render() {\n    return React.createElement(MDBView, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: background,\n      alt: \"\",\n      style: {\n        backgroundRepeat: \"cover\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(MDBMask, {\n      overlay: \"black-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(MDBContainer, {\n      style: {\n        marginBottom: '50px',\n        marginTop: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"text-center white-text\",\n      style: {\n        fontSize: '40px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Transfer Manager\")), React.createElement(MDBRow, {\n      className: \"text-align-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      md: \"6\",\n      style: {\n        paddingLeft: '5%',\n        paddingRight: '5%',\n        marginBottom: '100px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"text-center\",\n      style: {\n        backgroundColor: \"rgba(125,125,140,0.5)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      className: \"white-text\",\n      style: {\n        fontSize: '36px',\n        marginTop: '20px',\n        marginBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"To who?\")), React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(MDBCardText, {\n      className: \"text-justify\",\n      style: {\n        fontSize: '18px',\n        color: \"#9e9e9e\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Select a friend to who you want to transfer your money. You will be debit from your current wallet according to the amount you want to transfer.\"), React.createElement(\"form\", {\n      onSubmit: this.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      required: true,\n      className: \"form-control\",\n      type: \"text\",\n      placeholder: \"Search a user\",\n      onChange: this.handleSearchInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(MDBBtn, {\n      className: \"mt-3\",\n      gradient: \"near-moon\",\n      rounded: true,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Search\")))), this.state.userSearch && React.createElement(MDBCard, {\n      className: \"text-center mt-3\",\n      style: {\n        backgroundColor: \"rgba(125,125,140,0.5)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      className: \"white-text\",\n      style: {\n        fontSize: '36px',\n        marginTop: '20px',\n        marginBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Search results\")), React.createElement(MDBCardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(MDBListGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, this.usersList())))), React.createElement(MDBCol, {\n      style: {\n        paddingRight: '100px',\n        paddingLeft: '40px',\n        marginBottom: '100px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(MDBRow, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: wallet,\n      alt: \"\",\n      style: {\n        width: '100%',\n        maxWidth: '250px',\n        minWidth: '100px',\n        height: 'auto'\n      },\n      className: \"image-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })), React.createElement(MDBCol, {\n      middle: true,\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"white-text\",\n      style: {\n        fontWeight: 'bold',\n        fontSize: '50px',\n        whiteSpace: 'nowrap'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Cash flow\"), React.createElement(\"h1\", {\n      className: \"white-text\",\n      style: {\n        fontSize: '60px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, this.state.wallet, \"\\u20AC\"))), React.createElement(MDBRow, {\n      style: {\n        paddingTop: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(MDBCol, {\n      className: \"d-flex\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(MDBCard, {\n      className: \"text-center\",\n      style: {\n        marginLeft: '20px',\n        marginRight: '20px',\n        backgroundColor: \"rgba(125,125,140,0.5)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(MDBCardHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(MDBCardTitle, {\n      className: \"white-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Transfer Amount\")), React.createElement(MDBCardBody, {\n      className: \"text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Ex: 20.00\",\n      type: \"number\",\n      icon: \"euro-sign\",\n      value: this.state.transferAmount,\n      onChange: this.handleAmountInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    })), React.createElement(MDBCardFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      gradient: \"near-moon\",\n      onClick: this.handleTransfer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Proceed\"), this.state.modalTransfer && React.createElement(TransferModal, {\n      close: this.closeTransfer,\n      transfer: this.state.transferAmount,\n      selectedUser: this.state.userSelected,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    })))))))));\n  }\n\n}\n\nexport default TransferContent;","map":{"version":3,"sources":["C:\\Users\\Kiary\\Documents\\GitHub\\Projet-React\\ece_watermelon\\src\\Components\\TransferContent.js"],"names":["React","MDBView","MDBMask","MDBContainer","MDBCard","MDBRow","MDBCol","MDBListGroupItem","MDBListGroup","MDBCardHeader","MDBCardTitle","MDBCardBody","MDBCardText","MDBBtn","MDBInput","MDBCardFooter","wallet","background","getWalletAmount","TransferContent","Component","constructor","props","state","searchedUsers","parseFloat","toFixed","transferAmount","searchInput","userSearch","userSelected","modalTransfer","isActive","bind","setSelectedUser","handleAmountInput","handleSearchInput","handleSearch","usersList","event","setState","target","value","openTransfer","closeTransfer","preventDefault","dbUsers","JSON","parse","localStorage","getItem","lowerCasedInput","toString","toLowerCase","matchedSearched","filter","user","lowerCasedFN","first_name","lowerCasedLN","last_name","includes","console","log","userID","map","id","fontSize","render","backgroundRepeat","marginBottom","marginTop","fontWeight","paddingLeft","paddingRight","width","backgroundColor","color","maxWidth","minWidth","height","whiteSpace","paddingTop","marginLeft","marginRight","handleTransfer"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    MDBView, MDBMask, MDBContainer, MDBCard, MDBRow, MDBCol, MDBListGroupItem, MDBListGroup,\n    MDBCardHeader, MDBCardTitle, MDBCardBody, MDBCardText, MDBBtn, MDBInput, MDBCardFooter\n} from 'mdbreact'\nimport wallet from '../Pictures/wallet.png';\nimport background from '../Pictures/backgroundmain.jpg'\nimport './style.css';\nimport { getWalletAmount } from '../Database/DatabaseWallet.js';\n\nclass TransferContent extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            searchedUsers: '',\n            wallet: parseFloat(getWalletAmount()).toFixed(2),\n            transferAmount: '',\n            searchInput: '',\n            userSearch: false,\n            userSelected: '',\n            modalTransfer: false\n        }\n        this.isActive=this.isActive.bind(this);\n        this.setSelectedUser = this.setSelectedUser.bind(this);\n        this.handleAmountInput=this.handleAmountInput.bind(this);\n        this.handleSearchInput=this.handleSearchInput.bind(this);\n        this.handleSearch=this.handleSearch.bind(this);\n        this.usersList=this.usersList.bind(this);\n    }\n\n    handleAmountInput(event) {\n        this.setState({\n            transferAmount: event.target.value\n        })\n    }\n    \n    handleSearchInput(event){\n        this.setState({\n            searchInput: event.target.value\n        })\n    }\n\n    /**\n     * Used to set Transfer modal state to active\n     * Check that wallet value is a number > 0\n     */\n    openTransfer(){\n        this.setState({\n            transferAmount: parseFloat(this.state.transferAmount).toFixed(2)\n        });\n        if (parseFloat(this.state.transferAmount) > 0.0){\n            this.setState({\n                modalTransfer: true\n            });\n        }\n    }\n\n    /**\n     * Used to set Transfer modal state to normal\n     */\n    closeTransfer() {\n        this.setState({\n            modalTransfer: false,\n            wallet: getWalletAmount()\n        })\n    }\n\n    handleSearch(event) {\n        event.preventDefault();\n        const dbUsers = JSON.parse(localStorage.getItem(\"users\"));\n        const lowerCasedInput = this.state.searchInput.toString().toLowerCase();\n        var matchedSearched = dbUsers.filter((user) => {\n            const lowerCasedFN = user.first_name.toLowerCase();\n            const lowerCasedLN = user.last_name.toLowerCase();\n            if(lowerCasedFN.includes(lowerCasedInput) || lowerCasedLN.includes(lowerCasedInput)){\n                return user;\n            }\n        });\n        this.setState({\n            userSearch: true,\n            searchedUsers: matchedSearched\n        });\n        console.log(lowerCasedInput);\n        console.log(matchedSearched);\n    }\n\n    isActive(userID) {\n        if (userID === this.state.userSelected) {\n            return 'active';\n        } else {\n            return 'hover';\n        }\n    }\n\n    setSelectedUser(userID) {\n        this.setState({\n            userSelected: userID\n        });\n    }\n\n    usersList(){\n        return this.state.searchedUsers.map((user) =>\n        <MDBListGroupItem key={user.id} className={this.isActive(user.id)} onClick={() => this.setSelectedUser(user.id)}>\n            <div>\n                <strong style={{ fontSize: '20px' }}>{user.first_name} {user.last_name}\n                </strong>\n            </div>\n        </MDBListGroupItem>\n        );\n    }\n\n    render() {\n        return (\n            <MDBView>\n                <img src={background} alt=\"\" style={{ backgroundRepeat: \"cover\" }} />\n                <MDBMask overlay=\"black-light\">\n                    <MDBContainer style={{ marginBottom: '50px', marginTop: '50px' }}>\n                        <h1 className=\"text-center white-text\" style={{ fontSize: '40px', fontWeight: 'bold' }}>Transfer Manager</h1>\n                    </MDBContainer>\n                    <MDBRow className=\"text-align-center\">\n                        <MDBCol md=\"6\" style={{ paddingLeft: '5%', paddingRight: '5%', marginBottom: '100px', width: '100%' }}>\n                            <MDBCard className=\"text-center\" style={{ backgroundColor: \"rgba(125,125,140,0.5)\" }}>\n                                <MDBCardHeader>\n                                    <MDBCardTitle className=\"white-text\" style={{ fontSize: '36px', marginTop: '20px', marginBottom: '20px' }}>To who?</MDBCardTitle>\n                                </MDBCardHeader>\n                                <MDBCardBody>\n                                    <MDBCardText className=\"text-justify\" style={{ fontSize: '18px', color: \"#9e9e9e\" }}>\n                                        Select a friend to who you want to transfer your money. You will be debit from your current wallet according to the amount you want to transfer.\n                                    </MDBCardText>\n                                    <form onSubmit={this.handleSearch}>\n                                        <input required className=\"form-control\" type=\"text\" placeholder=\"Search a user\" onChange={this.handleSearchInput}/>\n                                        <MDBBtn className=\"mt-3\" gradient=\"near-moon\" rounded type=\"submit\">Search</MDBBtn>\n                                    </form>\n                                </MDBCardBody>\n                            </MDBCard>\n                            {this.state.userSearch && \n                            <MDBCard className=\"text-center mt-3\" style={{ backgroundColor: \"rgba(125,125,140,0.5)\" }}>\n                                <MDBCardHeader>\n                                    <MDBCardTitle className=\"white-text\" style={{ fontSize: '36px', marginTop: '20px', marginBottom: '20px' }}>Search results</MDBCardTitle>\n                                </MDBCardHeader>\n                                <MDBCardBody>\n                                    <MDBListGroup>\n                                        {this.usersList()}\n                                    </MDBListGroup>\n                                </MDBCardBody>\n                                </MDBCard>\n                            }\n                        </MDBCol>\n\n                        <MDBCol style={{ paddingRight: '100px', paddingLeft: '40px', marginBottom: '100px' }}>\n                            <MDBRow>\n                                <MDBCol className=\"text-center\">\n                                    <img src={wallet} alt=\"\" style={{ width: '100%', maxWidth: '250px', minWidth: '100px', height: 'auto' }} className=\"image-fluid\"></img>\n                                </MDBCol>\n                                <MDBCol middle className=\"text-center\">\n                                    <h1 className=\"white-text\" style={{ fontWeight: 'bold', fontSize: '50px', whiteSpace: 'nowrap' }}>Cash flow</h1>\n                                    <h1 className=\"white-text\" style={{ fontSize: '60px' }}>{this.state.wallet}â‚¬</h1>\n                                </MDBCol>\n                            </MDBRow>\n                            <MDBRow style={{ paddingTop: '50px' }}>\n                                <MDBCol className=\"d-flex\">\n                                    <MDBCard className=\"text-center\" style={{ marginLeft: '20px', marginRight: '20px', backgroundColor: \"rgba(125,125,140,0.5)\" }}>\n                                        <MDBCardHeader>\n                                            <MDBCardTitle className=\"white-text\">Transfer Amount</MDBCardTitle>\n                                        </MDBCardHeader>\n                                        <MDBCardBody className=\"text-left\">\n                                            <MDBInput label=\"Ex: 20.00\" type=\"number\" icon=\"euro-sign\" value={this.state.transferAmount} onChange={this.handleAmountInput} />\n                                        </MDBCardBody>\n                                        <MDBCardFooter >\n                                            <MDBBtn gradient=\"near-moon\" onClick={this.handleTransfer}>Proceed</MDBBtn>\n                                            {this.state.modalTransfer && <TransferModal close={this.closeTransfer} transfer={this.state.transferAmount} selectedUser={this.state.userSelected}/>}\n                                        </MDBCardFooter>\n                                    </MDBCard>\n                                </MDBCol>\n                            </MDBRow>\n                        </MDBCol>\n                    </MDBRow>\n                </MDBMask>\n            </MDBView>\n        );\n    };\n}\nexport default TransferContent;"]},"metadata":{},"sourceType":"module"}